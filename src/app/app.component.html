<!-- Header -->
<header class="page-topbar" id="header" [hidden]="isLogin">
    <div class="navbar navbar-fixed">
        <nav class="navbar-main navbar-color nav-collapsible navbar-dark gradient-shadow background-header" [ngClass]="{ 'sideNav-lock': isLock, 'nav-collapsed': !isLock }">
            <div class="nav-wrapper">
                <div class="header-search-wrapper hide-on-med-and-down">
                </div>
                <ul class="navbar-list right">
                    <li>
                        <a class="waves-effect waves-block waves-light profile-button" href="javascript:void(0);" data-target="profile-dropdown">
                            <span style="color: #ffffff !important;">Welcome : {{ username }}</span>
                        </a>
                    </li>
                </ul>
                <!-- notifications-dropdown-->
                <ul class="dropdown-content" id="notifications-dropdown">
                    <li>
                        <h6>NOTIFICATIONS<span class="new badge">5</span></h6>
                    </li>
                    <li class="divider"></li>
                    <li>
                        <a class="black-text" href="#!"><span
                class="material-icons icon-bg-circle cyan small">add_shopping_cart</span>
              A new order has been placed!</a>
                        <time class="media-meta grey-text darken-2" datetime="2015-06-12T20:50:48+08:00">2 hours ago</time>
                    </li>
                    <li>
                        <a class="black-text" href="#!"><span class="material-icons icon-bg-circle red small">stars</span>
              Completed the task</a>
                        <time class="media-meta grey-text darken-2" datetime="2015-06-12T20:50:48+08:00">3 days ago</time>
                    </li>
                    <li>
                        <a class="black-text" href="#!"><span class="material-icons icon-bg-circle teal small">settings</span>
              Settings updated</a>
                        <time class="media-meta grey-text darken-2" datetime="2015-06-12T20:50:48+08:00">4 days ago</time>
                    </li>
                    <li>
                        <a class="black-text" href="#!"><span class="material-icons icon-bg-circle deep-orange small">today</span>
              Director meeting started</a>
                        <time class="media-meta grey-text darken-2" datetime="2015-06-12T20:50:48+08:00">6 days ago</time>
                    </li>
                    <li>
                        <a class="black-text" href="#!"><span class="material-icons icon-bg-circle amber small">trending_up</span>
              Generate monthly report</a>
                        <time class="media-meta grey-text darken-2" datetime="2015-06-12T20:50:48+08:00">1 week ago</time>
                    </li>
                </ul>
                <!-- profile-dropdown-->
                <ul class="dropdown-content" id="profile-dropdown">
                    <li>
                        <a class="grey-text text-darken-1" href="JavaScript:void(0)" (click)="logout()"><i class="material-icons">keyboard_tab</i> Logout</a>
                    </li>
                </ul>
            </div>
        </nav>
    </div>
</header>
<!-- Header -->

<!-- SideNav -->
<aside class="sidenav-main nav-expanded nav-collapsible sidenav-light navbar-full sidenav-active-rounded" [ngClass]="{ 'nav-lock': isLock }" [hidden]="isLogin">
    <div class="brand-sidebar background-sidebar">
        <h1 class="logo-wrapper">
            <a class="brand-logo darken-1" href="index.html">
                <img src="./assets/img/logo_w.png" alt="">
                <span class="logo-text hide-on-med-and-down" style="color: #ffffff !important;"> 
                    Truck2Track
                </span>
            </a>
            <a class="navbar-toggler" (click)="isLock = !isLock">
                <i class="material-icons">radio_button_checked</i>
            </a>
        </h1>
    </div>

    <ul class="sidenav sidenav-collapsible leftside-navigation collapsible sidenav-fixed menu-shadow" id="slide-out" data-menu="menu-navigation" data-collapsible="menu-accordion">
        <a class="brand-logo darken-1" href="index.html"></a>
        <li class="bold" [ngClass]="{ active: i.isActive }" *ngFor="let i of menuService.menu; let idx = index">
            <a *ngIf="permission(i.items).length > 0" class="collapsible-header waves-effect waves-cyan" href="JavaScript:void(0)">
                <b class="menu-title" data-i18n="Image">{{i.name}}</b>
            </a>
            <div class="collapsible-body">
                <ul class="collapsible collapsible-sub" data-collapsible="accordion">
                    <li *ngFor="let j of permission(i.items); let idx = index" class="active">
                        <a [ngClass]="{ active: j.isActive }" routerLink="/" (click)="goToRouting(j)">
                            <span class="ct-menu-btn" data-i18n="main">{{ j.name }}</span>
                        </a>
                    </li>
                </ul>
            </div>
        </li>
        <!-- Logout -->
        <li class="bold">
            <a (click)="logout()" class="waves-effect waves-cyan" href="JavaScript:void(0)">
                <b class="menu-title" data-i18n="Demo">Logout</b>
            </a>
        </li>
    </ul>

    <div class="navigation-background"></div><a class="sidenav-trigger btn-sidenav-toggle btn-floating btn-medium waves-effect waves-light hide-on-large-only" href="#" data-target="slide-out"><i class="material-icons">menu</i></a>
</aside>
<!-- SideNav -->

<!-- Page Main -->
<div id="main" [hidden]="isLogin">
    <div class="row">
        <div class="breadcrumbs-inline pt-1 pb-1" id="breadcrumbs-wrapper">
            <div class="container">
                <div class="row">
                    <div class="col s12 m12 l12 breadcrumbs-left">
                        <!-- {{menuMain | json}} -->
                        <router-outlet></router-outlet>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Page Main -->

<!-- Footer -->
<footer class="page-footer footer footer-static footer-dark gradient-shadow navbar-border navbar-shadow background-footer" [hidden]="isLogin">
    <div class="footer-copyright"></div>

    <!-- https://pixinvent.com/ -->
    <!-- PIXINVENT -->
</footer>
<!-- Footer -->

<!-- Login -->
<div class="row login" [hidden]="!isLogin">
    <div class="container">
        <div id="login-page" class="row">
            <div [hidden]="isChangePassword" class="z-depth-4 card-panel border-radius-6 login-card bg-opacity-8 centered">
                <div class="col l12 s12">
                    <form class="login-form">
                        <div class="row" style="text-align: center;">
                            <div class="input-field col s12">
                                <img src="./assets/img/logo_w.png" width="80" alt="">
                                <h2 class="ml-4 login">Truck2Track</h2>
                                <h4>
                                    <span class="version-label">{{versionString}}</span>
                                </h4>
                                
                            </div>
                        </div>

                        <div class="row">
                            <div class="input-field col s12">
                                <i class="material-icons prefix pt-1">person_outline</i>
                                <input id="username" type="text" [(ngModel)]="userModel.username" (ngModelChange)="userModel.username = $event" name="userModel.username" />
                                <label for="username" class="center-align">Username | ชื่อผู้ใช้งาน</label>
                            </div>
                        </div>
                        <div class="row">
                            <div class="input-field col s12" style="margin-top: -5px !important;">
                                <i class="material-icons prefix pt-1">lock_outline</i>
                                <input id="password" type="password" [(ngModel)]="userModel.password" (ngModelChange)="userModel.password = $event" name="userModel.password" (keyup.enter)="login()" />
                                <label for="password">Password | รหัสผ่าน</label>
                            </div>
                        </div>
                        <!-- <div class="row" style="margin-top: -5px !important;">
                            <csop (cModel)="userModel.company = $event" [label]="'Company Name'" [data]="userModel.company" [sources]="listCompany">
                            </csop>
                        </div> -->
                        <div class="row">
                            <div class="input-field col s12">
                                <a href="JavaScript:void(0)" class="btn waves-effect waves-light border-round gradient-45deg-purple-deep-orange col s12 btn-login" (click)="login()">Login</a>
                            </div>
                        </div>
                    </form>
                </div>
            </div>

            <!-- ลงทะเบียน -->
            <div [hidden]="!isChangePassword" class="z-depth-4 card-panel border-radius-6 login-card bg-opacity-9 centered" style="width: 700px !important;">
                <form class="login-form">
                    <div class="row" style="text-align: center;">
                        <div class="input-field col s12">
                            <h2 class="ml-4">รหัสผ่านหมดอายุ กรุณากำหนดรหัสผ่านใหม่</h2>
                        </div>
                    </div>
                    <div class="row">
                        <div class="input-field col s12" style="margin-top: -5px !important;">
                            <i class="material-icons prefix pt-1">lock_outline</i>
                            <input id="password" type="password" [(ngModel)]="userModel.newPassword" (ngModelChange)="userModel.newPassword = $event" name="userModel.newPassword" (keyup.enter)="changePassword()" />
                            <label for="password">รหัสผ่าน</label>
                        </div>
                    </div>

                    <div class="row">
                        <div class="input-field col s6">
                            <a href="JavaScript:void(0)" class="btn waves-effect waves-light border-round gradient-45deg-purple-deep-orange col s12 btn-login" (click)="changePassword()">ยืนยัน</a>
                        </div>
                        <div class="input-field col s6" style="text-align: center;">
                            <p class="margin medium-small">have an account?</p>
                            <p (click)="backToLogin()" class="margin medium-small">
                                <a href="javascript:void(0)">login here</a>
                            </p>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </div>
</div>
<!-- Login -->